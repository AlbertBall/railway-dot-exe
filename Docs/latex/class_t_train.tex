\hypertarget{class_t_train}{}\section{T\+Train Class Reference}
\label{class_t_train}\index{T\+Train@{T\+Train}}


Collaboration diagram for T\+Train\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{class_t_train__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_t_train_a2a2d78164c9dc1881b2c77526f04903f}\label{class_t_train_a2a2d78164c9dc1881b2c77526f04903f}} 
bool \mbox{\hyperlink{class_t_train_a2a2d78164c9dc1881b2c77526f04903f}{Stopped}} ()
\begin{DoxyCompactList}\small\item\em True if the train has stopped for any reason. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_t_train_aef32cd9a007874ab09ceeac907e7c88b}{Link\+Occupied}} (int Caller, int Track\+Vector\+Position, int Link\+Number)
\item 
\mbox{\Hypertarget{class_t_train_ae9d788d7bf536de1efe7a67ab5bb8dd7}\label{class_t_train_ae9d788d7bf536de1efe7a67ab5bb8dd7}} 
\mbox{\hyperlink{class_t_train_ae9d788d7bf536de1efe7a67ab5bb8dd7}{T\+Train}} (int Caller, int Rear\+Start\+Element\+In, int Rear\+Start\+Exit\+Pos\+In, Ansi\+String Input\+Code, int \mbox{\hyperlink{class_t_train_adae3a1fd82da0457a983a3ac41cdda3d}{Start\+Speed}}, int \mbox{\hyperlink{class_t_train_ab9dabc7092d31bc27b573e75ac74d0da}{Mass}}, double \mbox{\hyperlink{class_t_train_a0b9ba6ba25c153ba3142f63ec024ccde}{Max\+Running\+Speed}}, double \mbox{\hyperlink{class_t_train_a1cd5cd53f56a05bc4fde337e44bdd6d4}{Max\+Brake\+Rate}}, double \mbox{\hyperlink{class_t_train_a6940d3fe404390d1d345a80bde3f6bf9}{Power\+At\+Rail}}, T\+Train\+Mode \mbox{\hyperlink{class_t_train_a860f87857baefc44a4928311698055a8}{Train\+Mode}}, \mbox{\hyperlink{class_t_train_data_entry}{T\+Train\+Data\+Entry}} $\ast$\mbox{\hyperlink{class_t_train_a28a2217abf201b23fd8b3b92c12038b7}{Train\+Data\+Entry\+Ptr}}, int \mbox{\hyperlink{class_t_train_a459ae11b674cfdccb8872ef25c921fd9}{Repeat\+Number}}, int \mbox{\hyperlink{class_t_train_a8601120683e9bf4f26b0d1cba75ceed4}{Incremental\+Minutes}}, int \mbox{\hyperlink{class_t_train_a7390e5172ab0a5aa998df94953e43fba}{Incremental\+Digits}}, int \mbox{\hyperlink{class_t_train_ad11759e49fa6fcf8367090ef1db490b7}{Signaller\+Max\+Speed}})
\begin{DoxyCompactList}\small\item\em Constructor, sets listed member values. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_t_train_a2e3e9fd7367a9333b7550b225d328d13}\label{class_t_train_a2e3e9fd7367a9333b7550b225d328d13}} 
bool \mbox{\hyperlink{class_t_train_a2e3e9fd7367a9333b7550b225d328d13}{Buffer\+At\+Exit}} (int Caller, int Element, int Exitpos) const
\begin{DoxyCompactList}\small\item\em True if Element is a buffer and Exitpos is the buffer end. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a4524b72ef62ef2c1375f58fac05929ee}\label{class_t_train_a4524b72ef62ef2c1375f58fac05929ee}} 
bool \mbox{\hyperlink{class_t_train_a4524b72ef62ef2c1375f58fac05929ee}{Calling\+On\+Allowed}} (int Caller)
\begin{DoxyCompactList}\small\item\em True if the train can be called on at its current position -\/ see detail in .cpp file. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a36b7b4901add145605ba1e540801b6cf}\label{class_t_train_a36b7b4901add145605ba1e540801b6cf}} 
bool \mbox{\hyperlink{class_t_train_a36b7b4901add145605ba1e540801b6cf}{Continuation\+Exit}} (int Caller, int Element, int Exitpos) const
\begin{DoxyCompactList}\small\item\em True if Element is a continuation and Exitpos is the continuation end. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a0a3a41dac70ba46da2f7f9fd03f2a63f}\label{class_t_train_a0a3a41dac70ba46da2f7f9fd03f2a63f}} 
bool \mbox{\hyperlink{class_t_train_a0a3a41dac70ba46da2f7f9fd03f2a63f}{Is\+Train\+I\+D\+On\+Bridge\+Track\+Pos01}} (int Caller, unsigned int Track\+Vector\+Position)
\begin{DoxyCompactList}\small\item\em True if train is on a bridge on trackpos 0 \& 1. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a6cbff3229246b7a156cd64a531aa60a6}\label{class_t_train_a6cbff3229246b7a156cd64a531aa60a6}} 
bool \mbox{\hyperlink{class_t_train_a6cbff3229246b7a156cd64a531aa60a6}{Is\+Train\+I\+D\+On\+Bridge\+Track\+Pos23}} (int Caller, unsigned int Track\+Vector\+Position)
\begin{DoxyCompactList}\small\item\em True if train is on a bridge on trackpos 2 \& 3. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a89e17b8d82633276576e365c980e718a}\label{class_t_train_a89e17b8d82633276576e365c980e718a}} 
bool \mbox{\hyperlink{class_t_train_a89e17b8d82633276576e365c980e718a}{Is\+Train\+Terminating}} (int Caller)
\begin{DoxyCompactList}\small\item\em True if train service terminates at its current location. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_t_train_ac2f3802b0d193d220ec6d19e2a6fc7ed}{Low\+Entry\+Value}} (int Entry\+Link) const
\item 
\mbox{\Hypertarget{class_t_train_ab4fefd748946d8530bca23a7699d0abc}\label{class_t_train_ab4fefd748946d8530bca23a7699d0abc}} 
bool \mbox{\hyperlink{class_t_train_ab4fefd748946d8530bca23a7699d0abc}{Train\+To\+Be\+Joined\+By\+Is\+Adjacent}} (int Caller, \mbox{\hyperlink{class_t_train}{T\+Train}} $\ast$\&Train\+To\+Be\+Joined\+By)
\begin{DoxyCompactList}\small\item\em True for a train waiting to be joined when the joining train is adjacent. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a23b7b40bba00cae3550bb1a30670c249}\label{class_t_train_a23b7b40bba00cae3550bb1a30670c249}} 
bool \mbox{\hyperlink{class_t_train_a23b7b40bba00cae3550bb1a30670c249}{Train\+To\+Join\+Is\+Adjacent}} (int Caller, \mbox{\hyperlink{class_t_train}{T\+Train}} $\ast$\&Train\+To\+Join)
\begin{DoxyCompactList}\small\item\em True for a train waiting to join another when the other train is adjacent. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_ad7831e71f0c68933df4aea6661a77be5}\label{class_t_train_ad7831e71f0c68933df4aea6661a77be5}} 
Graphics\+::\+T\+Bitmap $\ast$ \mbox{\hyperlink{class_t_train_ad7831e71f0c68933df4aea6661a77be5}{Set\+One\+Graphic\+Code}} (char Code\+Char)
\begin{DoxyCompactList}\small\item\em Return a pointer to the graphic corresponding to the character \textquotesingle{}Code\+Vhar\textquotesingle{}. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a406c172a0ba96802ada1aa04d78948d0}\label{class_t_train_a406c172a0ba96802ada1aa04d78948d0}} 
void \mbox{\hyperlink{class_t_train_a406c172a0ba96802ada1aa04d78948d0}{Change\+Train\+Direction}} (int Caller)
\begin{DoxyCompactList}\small\item\em Reverses the direction of motion of the train. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_train_a50997f7e8138a7e6a147fe3b5ad21b84}{Check\+And\+Cancel\+Route\+For\+Wrong\+End\+Entry}} (int Caller, int Element, int Entry\+Pos)
\item 
\mbox{\Hypertarget{class_t_train_ab9edf458753619f8cd25f0165484d26f}\label{class_t_train_ab9edf458753619f8cd25f0165484d26f}} 
void \mbox{\hyperlink{class_t_train_ab9edf458753619f8cd25f0165484d26f}{Finish\+Join}} (int Caller)
\begin{DoxyCompactList}\small\item\em Carry out the actions needed when a train is waiting to join another train. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_ad666fb061d1da7c44a72ec963c2098aa}\label{class_t_train_ad666fb061d1da7c44a72ec963c2098aa}} 
void \mbox{\hyperlink{class_t_train_ad666fb061d1da7c44a72ec963c2098aa}{Front\+Train\+Split}} (int Caller)
\begin{DoxyCompactList}\small\item\em Carry out the actions needed when a train is to split from the front. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_train_a0675ea1dede706d5b0dd52264496865a}{Get\+Lead\+Element}} (int Caller)
\item 
\mbox{\Hypertarget{class_t_train_aa973b7a0ecaef5077fd56398419f9104}\label{class_t_train_aa973b7a0ecaef5077fd56398419f9104}} 
void \mbox{\hyperlink{class_t_train_aa973b7a0ecaef5077fd56398419f9104}{Get\+Offset\+Values}} (int Caller, int \&H\+Offset, int \&\mbox{\hyperlink{class_t_train_a4c8b153a620229a3d9cc54f64ffa5f4a}{V\+Offset}}, int Link) const
\begin{DoxyCompactList}\small\item\em Sets H\+Offset \& V\+Offset (see above) for a single headcode character depending on the Link value. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a6c3479378d35f9041c38d80f03686b41}\label{class_t_train_a6c3479378d35f9041c38d80f03686b41}} 
void \mbox{\hyperlink{class_t_train_a6c3479378d35f9041c38d80f03686b41}{Joined\+By}} (int Caller)
\begin{DoxyCompactList}\small\item\em Carry out the actions needed when a train is waiting to be joined by another train. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a56fcfe4b9a3cef988bbeb4f4766372aa}\label{class_t_train_a56fcfe4b9a3cef988bbeb4f4766372aa}} 
void \mbox{\hyperlink{class_t_train_a56fcfe4b9a3cef988bbeb4f4766372aa}{New\+Shuttle\+From\+Non\+Repeat\+Service}} (int Caller)
\begin{DoxyCompactList}\small\item\em Carry out the actions needed when a new shuttle service is created from a non-\/repeating (F-\/nshs) service. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a75a2e9017b96e2a8f2a1edbd01c2cd68}\label{class_t_train_a75a2e9017b96e2a8f2a1edbd01c2cd68}} 
void \mbox{\hyperlink{class_t_train_a75a2e9017b96e2a8f2a1edbd01c2cd68}{New\+Train\+Service}} (int Caller)
\begin{DoxyCompactList}\small\item\em Carry out the actions needed when a train forms a new service (code Fns) \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_train_af92ae73f1be23475e7ae424306cd4866}{Pick\+Up\+Background\+Bitmap}} (int Caller, int H\+Offset, int \mbox{\hyperlink{class_t_train_a4c8b153a620229a3d9cc54f64ffa5f4a}{V\+Offset}}, int Element, int Entry\+Pos, Graphics\+::\+T\+Bitmap $\ast$Graphic\+Ptr) const
\item 
void \mbox{\hyperlink{class_t_train_aa21e18b3085773ca8351c446911611c1}{Plot\+Alternative\+Track\+Route\+Graphic}} (int Caller, unsigned int Lag\+Element, int Lag\+E\+Link\+Pos, int H\+Offset, int \mbox{\hyperlink{class_t_train_a4c8b153a620229a3d9cc54f64ffa5f4a}{V\+Offset}}, T\+Straddle Straddle\+Value)
\item 
\mbox{\Hypertarget{class_t_train_abb6bb7d2024ac59230cbaff2ec3ee999}\label{class_t_train_abb6bb7d2024ac59230cbaff2ec3ee999}} 
void \mbox{\hyperlink{class_t_train_abb6bb7d2024ac59230cbaff2ec3ee999}{Plot\+Background\+Graphic}} (int Caller, int Array\+Number, \mbox{\hyperlink{class_t_display}{T\+Display}} $\ast$Disp) const
\begin{DoxyCompactList}\small\item\em Replot the graphic pointed to by Background\+Ptr (see above) after a train has passed. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a247bd95a7c648367736b116f553f4e54}\label{class_t_train_a247bd95a7c648367736b116f553f4e54}} 
void \mbox{\hyperlink{class_t_train_a247bd95a7c648367736b116f553f4e54}{Plot\+Train\+Graphic}} (int Caller, int Array\+Number, \mbox{\hyperlink{class_t_display}{T\+Display}} $\ast$Disp)
\begin{DoxyCompactList}\small\item\em Plot the train\textquotesingle{}s headcode character corresponding to Array\+Number. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_abfa6da75d034c737d53819e6edbfa3dc}\label{class_t_train_abfa6da75d034c737d53819e6edbfa3dc}} 
void \mbox{\hyperlink{class_t_train_abfa6da75d034c737d53819e6edbfa3dc}{Plot\+Train\+With\+New\+Background\+Colour}} (int Caller, T\+Color New\+Background\+Colour, \mbox{\hyperlink{class_t_display}{T\+Display}} $\ast$Disp)
\begin{DoxyCompactList}\small\item\em Changes the train\textquotesingle{}s background colour (e.\+g. to pale green if stopped at a station) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_ad64c5823265b0c611c2e5f0613317aa5}\label{class_t_train_ad64c5823265b0c611c2e5f0613317aa5}} 
void \mbox{\hyperlink{class_t_train_ad64c5823265b0c611c2e5f0613317aa5}{Rear\+Train\+Split}} (int Caller)
\begin{DoxyCompactList}\small\item\em Carry out the actions needed when a train is to split from the rear. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_abd68a68b5ce295ee01171615f3d2c7ec}\label{class_t_train_abd68a68b5ce295ee01171615f3d2c7ec}} 
void \mbox{\hyperlink{class_t_train_abd68a68b5ce295ee01171615f3d2c7ec}{Remain\+Here}} (int Caller)
\begin{DoxyCompactList}\small\item\em Sends the \textquotesingle{}train terminated\textquotesingle{} message to the performance log and sets Timetable\+Finished to true. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_train_a8262f447ec811db7e524c7bb885226c5}{Repeat\+Shuttle\+Or\+New\+Non\+Repeat\+Service}} (int Caller)
\item 
void \mbox{\hyperlink{class_t_train_ac6f5cda912103fda4da31bdca611e4b5}{Repeat\+Shuttle\+Or\+Remain\+Here}} (int Caller)
\item 
void \mbox{\hyperlink{class_t_train_ace302d98b5685104d294869b161e20a0}{Reset\+Train\+Element\+ID}} (int Caller, unsigned int Track\+Vector\+Position, int Entry\+Pos)
\item 
void \mbox{\hyperlink{class_t_train_a594228489e522dfde0ffbe124cd27103}{Set\+Head\+Code\+Graphics}} (int Caller, Ansi\+String Code)
\item 
void \mbox{\hyperlink{class_t_train_a0e0ab54415645b04cbdeadd829d27898}{Set\+Train\+Element\+ID}} (int Caller, unsigned int Track\+Vector\+Position, int Entry\+Pos)
\item 
\mbox{\Hypertarget{class_t_train_af95a34f2334cb991841c24997d445ae3}\label{class_t_train_af95a34f2334cb991841c24997d445ae3}} 
bool \mbox{\hyperlink{class_t_train_af95a34f2334cb991841c24997d445ae3}{Has\+Train\+Gone}} ()
\begin{DoxyCompactList}\small\item\em Check whether the train has left the railway, so that it can be removed from the display at the next clock tick. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a221da69cd80d206a06f840f4cd463cf9}\label{class_t_train_a221da69cd80d206a06f840f4cd463cf9}} 
Ansi\+String \mbox{\hyperlink{class_t_train_a221da69cd80d206a06f840f4cd463cf9}{Floating\+Label\+Next\+String}} (int Caller, \mbox{\hyperlink{class_t_action_vector_entry}{T\+Action\+Vector\+Entry}} $\ast$Ptr)
\begin{DoxyCompactList}\small\item\em Used in the floating window to display the \textquotesingle{}Next\textquotesingle{} action. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a81bf61b47a2867f0c6901b1ea6f47177}\label{class_t_train_a81bf61b47a2867f0c6901b1ea6f47177}} 
Ansi\+String \mbox{\hyperlink{class_t_train_a81bf61b47a2867f0c6901b1ea6f47177}{Floating\+Timetable\+String}} (int Caller, \mbox{\hyperlink{class_t_action_vector_entry}{T\+Action\+Vector\+Entry}} $\ast$Ptr)
\begin{DoxyCompactList}\small\item\em Used in the floating window to display the timetable. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a63b0884e315178879369c82ee7fd2cb8}\label{class_t_train_a63b0884e315178879369c82ee7fd2cb8}} 
Ansi\+String \mbox{\hyperlink{class_t_train_a63b0884e315178879369c82ee7fd2cb8}{Get\+Train\+Head\+Code}} (int Caller)
\begin{DoxyCompactList}\small\item\em Returns the train headcode, taking account of the Repeat\+Number. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a659e6bf818f0cfac38728d4748408ee6}\label{class_t_train_a659e6bf818f0cfac38728d4748408ee6}} 
bool \mbox{\hyperlink{class_t_train_a659e6bf818f0cfac38728d4748408ee6}{Able\+To\+Move}} (int Caller)
\begin{DoxyCompactList}\small\item\em Indicates that a train is not prevented from moving -\/ used to allow appropriate popup menu options when under signaller control. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_ab4f992b2aeb186f8d23879d9405296a3}\label{class_t_train_ab4f992b2aeb186f8d23879d9405296a3}} 
bool \mbox{\hyperlink{class_t_train_ab4f992b2aeb186f8d23879d9405296a3}{Able\+To\+Move\+But\+For\+Signal}} (int Caller)
\begin{DoxyCompactList}\small\item\em Indicates that a train is only prevented from moving by a signal -\/ used to allow appropriate popup menu options when under signaller control. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_t_train_aeed1f50d8a4f76d7d77991d276758570}{Clear\+To\+Next\+Signal}} (int Caller)
\item 
\mbox{\Hypertarget{class_t_train_a935bb43db57a3f2b635be9dfc6a7988b}\label{class_t_train_a935bb43db57a3f2b635be9dfc6a7988b}} 
bool \mbox{\hyperlink{class_t_train_a935bb43db57a3f2b635be9dfc6a7988b}{Train\+At\+Location}} (int Caller, Ansi\+String \&Location\+Name)
\begin{DoxyCompactList}\small\item\em True when the train is stopped at a timetabled location. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_t_train_a7a54125a3a5052cb25e17014075a686b}{Name\+In\+Timetable\+Before\+C\+DT}} (int Caller, Ansi\+String Name, bool \&Stop)
\item 
T\+Date\+Time \mbox{\hyperlink{class_t_train_ad249f34f6862e604b8e141d1b25fe57d}{Get\+Train\+Time}} (int Caller, T\+Date\+Time Time)
\item 
void \mbox{\hyperlink{class_t_train_afd5d7ea375b8a878c31d81841acad159}{Delete\+Train}} (int Caller)
\item 
\mbox{\Hypertarget{class_t_train_a23c65e7f2b2130ae87811f70afb6d5bf}\label{class_t_train_a23c65e7f2b2130ae87811f70afb6d5bf}} 
void \mbox{\hyperlink{class_t_train_a23c65e7f2b2130ae87811f70afb6d5bf}{Load\+One\+Session\+Train}} (int Caller, std\+::ifstream \&In\+File)
\begin{DoxyCompactList}\small\item\em Create one train with relevant member values from the sesion file. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_train_a493ab1c185d29bf28ec8fded2356e9fc}{Log\+Action}} (int Caller, Ansi\+String \mbox{\hyperlink{class_t_train_a68f4b62f3405f80d58f33519392ab37e}{Head\+Code}}, Ansi\+String Other\+Head\+Code, T\+Action\+Type Action\+Type, Ansi\+String Location\+Name, T\+Date\+Time Timetable\+Non\+Repeat\+Time, bool Warning)
\item 
\mbox{\Hypertarget{class_t_train_a43cd691f12297c4c13a19791329dd627}\label{class_t_train_a43cd691f12297c4c13a19791329dd627}} 
void \mbox{\hyperlink{class_t_train_a43cd691f12297c4c13a19791329dd627}{Plot\+Start\+Position}} (int Caller)
\begin{DoxyCompactList}\small\item\em Plots the train and sets up all relevant members for a new train when it is introduced into the railway. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a5fdef825574f0e546ab25169e9f8445d}\label{class_t_train_a5fdef825574f0e546ab25169e9f8445d}} 
void \mbox{\hyperlink{class_t_train_a5fdef825574f0e546ab25169e9f8445d}{Plot\+Train}} (int Caller, \mbox{\hyperlink{class_t_display}{T\+Display}} $\ast$Disp)
\begin{DoxyCompactList}\small\item\em Plots the train on the display in normal (zoomed-\/in) mode. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_aa3f3a500264ddca35c7fee35f22ffa1e}\label{class_t_train_aa3f3a500264ddca35c7fee35f22ffa1e}} 
void \mbox{\hyperlink{class_t_train_aa3f3a500264ddca35c7fee35f22ffa1e}{Plot\+Train\+In\+Zoom\+Out\+Mode}} (int Caller, bool Flash)
\begin{DoxyCompactList}\small\item\em Plots the train on screen in zoomed-\/out mode, state of \textquotesingle{}Flash\textquotesingle{} determines whether the flashing trains are plotted or not. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_ac414e9e4fd7e25c11e09678dd4dc7944}\label{class_t_train_ac414e9e4fd7e25c11e09678dd4dc7944}} 
void \mbox{\hyperlink{class_t_train_ac414e9e4fd7e25c11e09678dd4dc7944}{Save\+One\+Session\+Train}} (int Caller, std\+::ofstream \&Out\+File)
\begin{DoxyCompactList}\small\item\em Data for a single train is saved to a session file. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a29ad7cb992931e1e8922941fc49e2e74}\label{class_t_train_a29ad7cb992931e1e8922941fc49e2e74}} 
void \mbox{\hyperlink{class_t_train_a29ad7cb992931e1e8922941fc49e2e74}{Send\+Missed\+Action\+Logs}} (int Caller, int Inc\+Num, \mbox{\hyperlink{class_t_action_vector_entry}{T\+Action\+Vector\+Entry}} $\ast$Ptr)
\begin{DoxyCompactList}\small\item\em Missed actions (see Name\+In\+Timetable\+Before\+C\+DT above) sent to the performance log and performance file. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_aaa6289d279b229d05963f8b3a35d53e9}\label{class_t_train_aaa6289d279b229d05963f8b3a35d53e9}} 
void \mbox{\hyperlink{class_t_train_aaa6289d279b229d05963f8b3a35d53e9}{Set\+Train\+Movement\+Values}} (int Caller, int Track\+Vector\+Position, int Entry\+Pos)
\begin{DoxyCompactList}\small\item\em Calculates train speeds and times for the element that the train is about to enter. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_affbb94aa088370056f8ca8c45a1fdd48}\label{class_t_train_affbb94aa088370056f8ca8c45a1fdd48}} 
void \mbox{\hyperlink{class_t_train_affbb94aa088370056f8ca8c45a1fdd48}{Signaller\+Change\+Train\+Direction}} (int Caller)
\begin{DoxyCompactList}\small\item\em Unplots \& replots train, which checks for facing signal and sets Stopped\+At\+Signal if req\textquotesingle{}d. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a4978a3050ca943076eb6cbd03eeee1d4}\label{class_t_train_a4978a3050ca943076eb6cbd03eeee1d4}} 
void \mbox{\hyperlink{class_t_train_a4978a3050ca943076eb6cbd03eeee1d4}{Unplot\+Train}} (int Caller)
\begin{DoxyCompactList}\small\item\em Unplot train from screen in zoomed-\/in mode. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a439d2809c762a0981908a3b8a49520f2}\label{class_t_train_a439d2809c762a0981908a3b8a49520f2}} 
void \mbox{\hyperlink{class_t_train_a439d2809c762a0981908a3b8a49520f2}{Unplot\+Train\+In\+Zoom\+Out\+Mode}} (int Caller)
\begin{DoxyCompactList}\small\item\em Unplot train from screen in zoomed-\/out mode. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a89ad640ecf8f5163c40727b4e28575fc}\label{class_t_train_a89ad640ecf8f5163c40727b4e28575fc}} 
void \mbox{\hyperlink{class_t_train_a89ad640ecf8f5163c40727b4e28575fc}{Update\+Train}} (int Caller)
\begin{DoxyCompactList}\small\item\em Major function called at each clock tick for each train \& handles all train movement \& associated actions. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_train_a86107a63225b0500b29e049f13545fff}{Write\+Train\+To\+Image}} (int Caller, Graphics\+::\+T\+Bitmap $\ast$Bitmap)
\end{DoxyCompactItemize}
\subsection*{Static Private Member Functions}
\begin{DoxyCompactItemize}
\item 
static bool \mbox{\hyperlink{class_t_train_aad716bab6f8f4aa6dd49f35130d28dd9}{Check\+One\+Session\+Train}} (std\+::ifstream \&In\+File)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_t_train_abb385030108fe96cdcd550b2aa2072a7}\label{class_t_train_abb385030108fe96cdcd550b2aa2072a7}} 
friend {\bfseries T\+Train\+Controller}
\item 
\mbox{\Hypertarget{class_t_train_a0dd5144abd7dbc49a714d6c2e4cc1851}\label{class_t_train_a0dd5144abd7dbc49a714d6c2e4cc1851}} 
friend {\bfseries T\+Interface}
\item 
\mbox{\Hypertarget{class_t_train_a68f4b62f3405f80d58f33519392ab37e}\label{class_t_train_a68f4b62f3405f80d58f33519392ab37e}} 
Ansi\+String \mbox{\hyperlink{class_t_train_a68f4b62f3405f80d58f33519392ab37e}{Head\+Code}}
\begin{DoxyCompactList}\small\item\em needs own Head\+Code because repeat entries will differ from Train\+Data\+Entry.\+Head\+Code \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a8f90e7446fd72ae99641a7ca9ee76ab6}\label{class_t_train_a8f90e7446fd72ae99641a7ca9ee76ab6}} 
bool \mbox{\hyperlink{class_t_train_a8f90e7446fd72ae99641a7ca9ee76ab6}{Hold\+At\+Location\+In\+T\+T\+Mode}}
\begin{DoxyCompactList}\small\item\em true if actions are needed before train departs \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a4bfd087e177535b7e3086393c09e40a6}\label{class_t_train_a4bfd087e177535b7e3086393c09e40a6}} 
bool \mbox{\hyperlink{class_t_train_a4bfd087e177535b7e3086393c09e40a6}{Time\+Time\+Loc\+Arrived}}
\begin{DoxyCompactList}\small\item\em indicates whether has arrived (true) or not when Action\+Vector\+Entry\+Ptr-\/$>$Format\+Type == Time\+Time\+Loc \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a52721f222fff0b6e08fffe94d693ac65}\label{class_t_train_a52721f222fff0b6e08fffe94d693ac65}} 
bool \mbox{\hyperlink{class_t_train_a52721f222fff0b6e08fffe94d693ac65}{Remain\+Here\+Log\+Not\+Sent}}
\begin{DoxyCompactList}\small\item\em flag to prevent repeated logs, new at v1.\+2.\+0 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a7390e5172ab0a5aa998df94953e43fba}\label{class_t_train_a7390e5172ab0a5aa998df94953e43fba}} 
int \mbox{\hyperlink{class_t_train_a7390e5172ab0a5aa998df94953e43fba}{Incremental\+Digits}}
\begin{DoxyCompactList}\small\item\em the number of digits to increment by in repeat entries \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a8601120683e9bf4f26b0d1cba75ceed4}\label{class_t_train_a8601120683e9bf4f26b0d1cba75ceed4}} 
int \mbox{\hyperlink{class_t_train_a8601120683e9bf4f26b0d1cba75ceed4}{Incremental\+Minutes}}
\begin{DoxyCompactList}\small\item\em the number of minutes to increment by in repeat entries \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a17d0d896f438220698e0b2b47e5112da}\label{class_t_train_a17d0d896f438220698e0b2b47e5112da}} 
int \mbox{\hyperlink{class_t_train_a17d0d896f438220698e0b2b47e5112da}{Rear\+Start\+Element}}
\begin{DoxyCompactList}\small\item\em start Track\+Vector\+Position element for rear of train \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a469298d2fbbd846e2a62e7a04cfedc34}\label{class_t_train_a469298d2fbbd846e2a62e7a04cfedc34}} 
int \mbox{\hyperlink{class_t_train_a469298d2fbbd846e2a62e7a04cfedc34}{Rear\+Start\+Exit\+Pos}}
\begin{DoxyCompactList}\small\item\em the Link\+Pos value for the rear starting element (i.\+e. links to the front starting element) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a459ae11b674cfdccb8872ef25c921fd9}\label{class_t_train_a459ae11b674cfdccb8872ef25c921fd9}} 
int \mbox{\hyperlink{class_t_train_a459ae11b674cfdccb8872ef25c921fd9}{Repeat\+Number}}
\begin{DoxyCompactList}\small\item\em indicates which of the repeating services this train represents (0 = first service) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_ad11759e49fa6fcf8367090ef1db490b7}\label{class_t_train_ad11759e49fa6fcf8367090ef1db490b7}} 
int \mbox{\hyperlink{class_t_train_ad11759e49fa6fcf8367090ef1db490b7}{Signaller\+Max\+Speed}}
\begin{DoxyCompactList}\small\item\em maximum train speed under signaller control (in km/h) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_adae3a1fd82da0457a983a3ac41cdda3d}\label{class_t_train_adae3a1fd82da0457a983a3ac41cdda3d}} 
int \mbox{\hyperlink{class_t_train_adae3a1fd82da0457a983a3ac41cdda3d}{Start\+Speed}}
\begin{DoxyCompactList}\small\item\em the speed of the train when introduced into the railway (in km/h) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a28a2217abf201b23fd8b3b92c12038b7}\label{class_t_train_a28a2217abf201b23fd8b3b92c12038b7}} 
\mbox{\hyperlink{class_t_train_data_entry}{T\+Train\+Data\+Entry}} $\ast$ \mbox{\hyperlink{class_t_train_a28a2217abf201b23fd8b3b92c12038b7}{Train\+Data\+Entry\+Ptr}}
\begin{DoxyCompactList}\small\item\em points to the current position in the timetable\textquotesingle{}s Train\+Data\+Vector \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a1caacc95f3c31b0d6f71704eeee44a00}\label{class_t_train_a1caacc95f3c31b0d6f71704eeee44a00}} 
\mbox{\hyperlink{class_t_action_vector_entry}{T\+Action\+Vector\+Entry}} $\ast$ \mbox{\hyperlink{class_t_train_a1caacc95f3c31b0d6f71704eeee44a00}{Action\+Vector\+Entry\+Ptr}}
\begin{DoxyCompactList}\small\item\em points to the current position in the Action\+Vector (a member of the \mbox{\hyperlink{class_t_train_data_entry}{T\+Train\+Data\+Entry}} class) \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_t_train_a8c94580b79a8ad1ad0fce51f0abba822}{Allowed\+To\+Pass\+Red\+Signal}}
\item 
\mbox{\Hypertarget{class_t_train_a33f0f08a95cc392557392d02e293c7c3}\label{class_t_train_a33f0f08a95cc392557392d02e293c7c3}} 
bool \mbox{\hyperlink{class_t_train_a33f0f08a95cc392557392d02e293c7c3}{Being\+Called\+On}}
\begin{DoxyCompactList}\small\item\em in course of being called on to a station \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_t_train_a60a3a9bebf64411f5d200682575a69ee}{Buffer\+Zoom\+Out\+Flash\+Required}}
\item 
\mbox{\Hypertarget{class_t_train_a5a658cdc377c3f4d65af6839614e7cb1}\label{class_t_train_a5a658cdc377c3f4d65af6839614e7cb1}} 
bool \mbox{\hyperlink{class_t_train_a5a658cdc377c3f4d65af6839614e7cb1}{Calling\+On\+Flag}}
\begin{DoxyCompactList}\small\item\em calling on permitted \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_t_train_ab4f3876cb58a6160c2f1cd7a7eb3f234}{Departure\+Time\+Set}}
\item 
bool \mbox{\hyperlink{class_t_train_a638de0cfb04b13fb28edd5e61d2d628f}{First\+Half\+Move}}
\item 
bool \mbox{\hyperlink{class_t_train_a843a31af1c4faec4d71a61d32d6f4510}{Joined\+Other\+Train\+Flag}}
\item 
bool \mbox{\hyperlink{class_t_train_a1b53d5506e8a5bdfd55286ae2dc2d3f2}{Last\+Action\+Delay\+Flag}}
\item 
bool \mbox{\hyperlink{class_t_train_ac1ce3c1b548c1e4199d211b5fcd9763e}{Leaving\+Under\+Sig\+Control\+At\+Continuation}}
\item 
bool \mbox{\hyperlink{class_t_train_a36dc9bd48fb78d4257fe117908829dd7}{One\+Length\+Accel\+Decel}}
\item 
\mbox{\Hypertarget{class_t_train_a4cd38ef44706b5ae6bf0c934e58b4b93}\label{class_t_train_a4cd38ef44706b5ae6bf0c934e58b4b93}} 
bool \mbox{\hyperlink{class_t_train_a4cd38ef44706b5ae6bf0c934e58b4b93}{Signaller\+Removed}}
\begin{DoxyCompactList}\small\item\em set when removed under signaller control to force a removal from the display at the next clock tick \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a559e8f1636c83d03463d6c901ae39567}\label{class_t_train_a559e8f1636c83d03463d6c901ae39567}} 
bool \mbox{\hyperlink{class_t_train_a559e8f1636c83d03463d6c901ae39567}{Signaller\+Stopping\+Flag}}
\begin{DoxyCompactList}\small\item\em set when the signaller stop command has been given \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a0f044ad19728cee6dd0b6baadec4648b}\label{class_t_train_a0f044ad19728cee6dd0b6baadec4648b}} 
bool \mbox{\hyperlink{class_t_train_a0f044ad19728cee6dd0b6baadec4648b}{Step\+Forward\+Flag}}
\begin{DoxyCompactList}\small\item\em set when the signaller command to step forward one element has been given \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_aa714e9f320349edfe76fc9ac3ae3e20a}\label{class_t_train_aa714e9f320349edfe76fc9ac3ae3e20a}} 
bool \mbox{\hyperlink{class_t_train_aa714e9f320349edfe76fc9ac3ae3e20a}{Terminated\+Message\+Sent}}
\begin{DoxyCompactList}\small\item\em set when a \textquotesingle{}train terminated\textquotesingle{} message has been logged, to prevent its being logged more than once \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a9e3744afb10713ef0b88f6fabb120236}\label{class_t_train_a9e3744afb10713ef0b88f6fabb120236}} 
bool \mbox{\hyperlink{class_t_train_a9e3744afb10713ef0b88f6fabb120236}{Timetable\+Finished}}
\begin{DoxyCompactList}\small\item\em set when there are no more timetable actions \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a49612fd01b9450008b99d9fd66ac7583}\label{class_t_train_a49612fd01b9450008b99d9fd66ac7583}} 
double \mbox{\hyperlink{class_t_train_a49612fd01b9450008b99d9fd66ac7583}{A\+Value}}
\begin{DoxyCompactList}\small\item\em this is a useful shorthand value in calculating speeds and transit times in Set\+Train\+Movement\+Values \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_ae132daaee23376980818479528f27e2f}\label{class_t_train_ae132daaee23376980818479528f27e2f}} 
double \mbox{\hyperlink{class_t_train_ae132daaee23376980818479528f27e2f}{Entry\+Speed}}
\begin{DoxyCompactList}\small\item\em speed at which the train enters the next element \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a05c926d79cbda85036d8d746131c3aef}\label{class_t_train_a05c926d79cbda85036d8d746131c3aef}} 
double \mbox{\hyperlink{class_t_train_a05c926d79cbda85036d8d746131c3aef}{Exit\+Speed\+Half}}
\begin{DoxyCompactList}\small\item\em speed when half way into the next element \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_ab3de27e27b474c1f2d224f73735fc1c2}\label{class_t_train_ab3de27e27b474c1f2d224f73735fc1c2}} 
double \mbox{\hyperlink{class_t_train_ab3de27e27b474c1f2d224f73735fc1c2}{Exit\+Speed\+Full}}
\begin{DoxyCompactList}\small\item\em speed when leaving the next element \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_adc5921a57f31d66e9b22f040717716d4}\label{class_t_train_adc5921a57f31d66e9b22f040717716d4}} 
double \mbox{\hyperlink{class_t_train_adc5921a57f31d66e9b22f040717716d4}{Timetable\+Max\+Running\+Speed}}
\begin{DoxyCompactList}\small\item\em the maximum train running speed when in timetable mode (see int Signaller\+Max\+Speed for signaller control) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a0b9ba6ba25c153ba3142f63ec024ccde}\label{class_t_train_a0b9ba6ba25c153ba3142f63ec024ccde}} 
double \mbox{\hyperlink{class_t_train_a0b9ba6ba25c153ba3142f63ec024ccde}{Max\+Running\+Speed}}
\begin{DoxyCompactList}\small\item\em the current maximum train running speed \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_ab0dc5c73f19ad8ef811f4464dfb5fc94}\label{class_t_train_ab0dc5c73f19ad8ef811f4464dfb5fc94}} 
double \mbox{\hyperlink{class_t_train_ab0dc5c73f19ad8ef811f4464dfb5fc94}{Max\+Exit\+Speed}}
\begin{DoxyCompactList}\small\item\em the maximum speed that the train can exit the next element \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a1cd5cd53f56a05bc4fde337e44bdd6d4}\label{class_t_train_a1cd5cd53f56a05bc4fde337e44bdd6d4}} 
double \mbox{\hyperlink{class_t_train_a1cd5cd53f56a05bc4fde337e44bdd6d4}{Max\+Brake\+Rate}}
\begin{DoxyCompactList}\small\item\em the maximum brake rate that the train can achieve \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_afc10d4584267d8f4f05e9faa0a633a6e}\label{class_t_train_afc10d4584267d8f4f05e9faa0a633a6e}} 
double \mbox{\hyperlink{class_t_train_afc10d4584267d8f4f05e9faa0a633a6e}{Brake\+Rate}}
\begin{DoxyCompactList}\small\item\em the current train brake rate \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a449a378257b8b3a3a2b3df40d0cca928}\label{class_t_train_a449a378257b8b3a3a2b3df40d0cca928}} 
double \mbox{\hyperlink{class_t_train_a449a378257b8b3a3a2b3df40d0cca928}{Signaller\+Stop\+Brake\+Rate}}
\begin{DoxyCompactList}\small\item\em the train brake rate when stopping under signaller control \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a6940d3fe404390d1d345a80bde3f6bf9}\label{class_t_train_a6940d3fe404390d1d345a80bde3f6bf9}} 
double \mbox{\hyperlink{class_t_train_a6940d3fe404390d1d345a80bde3f6bf9}{Power\+At\+Rail}}
\begin{DoxyCompactList}\small\item\em in Watts (taken as 80\% of the train\textquotesingle{}s Gross Power, i.\+e. that entered by the user) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_aa9d994b88696a8680438b109dccfd679}\label{class_t_train_aa9d994b88696a8680438b109dccfd679}} 
int {\bfseries Front\+Element\+Speed\+Limit}
\item 
\mbox{\Hypertarget{class_t_train_aac3a242d9fee653d2dca155d0279cc83}\label{class_t_train_aac3a242d9fee653d2dca155d0279cc83}} 
int \mbox{\hyperlink{class_t_train_aac3a242d9fee653d2dca155d0279cc83}{Front\+Element\+Length}}
\begin{DoxyCompactList}\small\item\em values associated with the element immediately in front of the train (speed in km/h, length in m) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_ab9dabc7092d31bc27b573e75ac74d0da}\label{class_t_train_ab9dabc7092d31bc27b573e75ac74d0da}} 
int \mbox{\hyperlink{class_t_train_ab9dabc7092d31bc27b573e75ac74d0da}{Mass}}
\begin{DoxyCompactList}\small\item\em in kg \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_t_train_ae57749c241ad7256c6f628faf1168ce7}{Update\+Counter}}
\begin{DoxyCompactList}\small\item\em after a failure message has already been given (doesn\textquotesingle{}t need to stay failed as signaller can manoeuvre it to a better location) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a6baa340127335e185e91f150ab93986f}\label{class_t_train_a6baa340127335e185e91f150ab93986f}} 
T\+Date\+Time {\bfseries Entry\+Time}
\item 
\mbox{\Hypertarget{class_t_train_a8e1741c26fe9887f84f1491d16e52f0d}\label{class_t_train_a8e1741c26fe9887f84f1491d16e52f0d}} 
T\+Date\+Time {\bfseries Exit\+Time\+Half}
\item 
\mbox{\Hypertarget{class_t_train_abe007893bd4ba34a70260734107d9cc4}\label{class_t_train_abe007893bd4ba34a70260734107d9cc4}} 
T\+Date\+Time \mbox{\hyperlink{class_t_train_abe007893bd4ba34a70260734107d9cc4}{Exit\+Time\+Full}}
\begin{DoxyCompactList}\small\item\em times used in Set\+Train\+Movement\+Values corresponding to the next element the train runs on \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a284962532ed0464d56031f46bae2354a}\label{class_t_train_a284962532ed0464d56031f46bae2354a}} 
T\+Date\+Time {\bfseries Release\+Time}
\item 
\mbox{\Hypertarget{class_t_train_a7d04648c56b58359d476792c22800657}\label{class_t_train_a7d04648c56b58359d476792c22800657}} 
T\+Date\+Time \mbox{\hyperlink{class_t_train_a7d04648c56b58359d476792c22800657}{T\+R\+S\+Time}}
\begin{DoxyCompactList}\small\item\em location departure time and \textquotesingle{}train ready to start\textquotesingle{} time (T\+R\+S\+Time is 10 seconds before the Release\+Time) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a1887a95dd5762926ac67d244dd471e45}\label{class_t_train_a1887a95dd5762926ac67d244dd471e45}} 
T\+Date\+Time \mbox{\hyperlink{class_t_train_a1887a95dd5762926ac67d244dd471e45}{Last\+Action\+Time}}
\begin{DoxyCompactList}\small\item\em time of the last timetabled action, used to ensure at least a 30 second delay before the next action \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a860f87857baefc44a4928311698055a8}\label{class_t_train_a860f87857baefc44a4928311698055a8}} 
T\+Train\+Mode \mbox{\hyperlink{class_t_train_a860f87857baefc44a4928311698055a8}{Train\+Mode}}
\begin{DoxyCompactList}\small\item\em mode of operation -\/ either Timetable (running under timetable control) or Signaller (running under signaller control) \end{DoxyCompactList}\item 
Ansi\+String \mbox{\hyperlink{class_t_train_a2fe228470644e5b9bcc95b3e75f9bf36}{Restore\+Timetable\+Location}}
\item 
\mbox{\Hypertarget{class_t_train_ae95ef74597b4ef92b9250699e25ef58a}\label{class_t_train_ae95ef74597b4ef92b9250699e25ef58a}} 
bool \mbox{\hyperlink{class_t_train_ae95ef74597b4ef92b9250699e25ef58a}{Plotted}}
\begin{DoxyCompactList}\small\item\em set when train plotted on screen \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a3ecf54f0385bc6157ebe5f56512caf1f}\label{class_t_train_a3ecf54f0385bc6157ebe5f56512caf1f}} 
bool \mbox{\hyperlink{class_t_train_a3ecf54f0385bc6157ebe5f56512caf1f}{Train\+Gone}}
\begin{DoxyCompactList}\small\item\em set when train has left the railway, so it can be removed from the display at the next clock tick \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_t_train_a05383ce005a22df0cb70df7f31a917cf}{S\+P\+A\+D\+Flag}}
\begin{DoxyCompactList}\small\item\em flags to indicate relevant stop conditions or pending stop conditions \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_aa7881a1af2b9f5e899ce02937325c3a3}\label{class_t_train_aa7881a1af2b9f5e899ce02937325c3a3}} 
bool {\bfseries Derailed}
\item 
\mbox{\Hypertarget{class_t_train_aabb977acb12c9cd6cd527faed9637830}\label{class_t_train_aabb977acb12c9cd6cd527faed9637830}} 
bool {\bfseries Derail\+Pending}
\item 
\mbox{\Hypertarget{class_t_train_acee5980b53db6ad43e7b5225ad354457}\label{class_t_train_acee5980b53db6ad43e7b5225ad354457}} 
bool {\bfseries Crashed}
\item 
\mbox{\Hypertarget{class_t_train_a9a549bcd3e8c0d24701399349bc3acc9}\label{class_t_train_a9a549bcd3e8c0d24701399349bc3acc9}} 
bool {\bfseries Stopped\+At\+Buffers}
\item 
\mbox{\Hypertarget{class_t_train_a444b07eb854c9af80adce5afbb207307}\label{class_t_train_a444b07eb854c9af80adce5afbb207307}} 
bool {\bfseries Stopped\+At\+Signal}
\item 
\mbox{\Hypertarget{class_t_train_a89642a602f382d5b58a7f5c0473f786f}\label{class_t_train_a89642a602f382d5b58a7f5c0473f786f}} 
bool {\bfseries Stopped\+At\+Location}
\item 
\mbox{\Hypertarget{class_t_train_ab04bbcf731ecc52b6549604d87101f63}\label{class_t_train_ab04bbcf731ecc52b6549604d87101f63}} 
bool {\bfseries Signaller\+Stopped}
\item 
\mbox{\Hypertarget{class_t_train_a9a333bca3d60db7670500574467ad7da}\label{class_t_train_a9a333bca3d60db7670500574467ad7da}} 
bool {\bfseries Stopped\+After\+S\+P\+AD}
\item 
\mbox{\Hypertarget{class_t_train_ae76e8f47258c0915f7f81e3b6596453c}\label{class_t_train_ae76e8f47258c0915f7f81e3b6596453c}} 
bool {\bfseries Stopped\+For\+Train\+In\+Front}
\item 
\mbox{\Hypertarget{class_t_train_a92fca7c6fa30d8a5d5847b74e51e62cc}\label{class_t_train_a92fca7c6fa30d8a5d5847b74e51e62cc}} 
bool {\bfseries Not\+In\+Service}
\item 
\mbox{\Hypertarget{class_t_train_aaa4e520024a9e4c86e8754bb3c7cac2c}\label{class_t_train_aaa4e520024a9e4c86e8754bb3c7cac2c}} 
Graphics\+::\+T\+Bitmap $\ast$ \mbox{\hyperlink{class_t_train_aaa4e520024a9e4c86e8754bb3c7cac2c}{Background\+Ptr}} \mbox{[}4\mbox{]}
\begin{DoxyCompactList}\small\item\em the existing track graphic that the train headcode segment covers up (one for each headcode segment) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a4ee3cdc7a3602f92a96084f8818b9bd3}\label{class_t_train_a4ee3cdc7a3602f92a96084f8818b9bd3}} 
Graphics\+::\+T\+Bitmap $\ast$ \mbox{\hyperlink{class_t_train_a4ee3cdc7a3602f92a96084f8818b9bd3}{Front\+Code\+Ptr}}
\begin{DoxyCompactList}\small\item\em points to the front headcode segment, this is set to red or blue depending on Train\+Mode \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_ac19e1d8b5171bace341f951bac1031e1}\label{class_t_train_ac19e1d8b5171bace341f951bac1031e1}} 
Graphics\+::\+T\+Bitmap $\ast$ \mbox{\hyperlink{class_t_train_ac19e1d8b5171bace341f951bac1031e1}{Head\+Code\+Gr\+Ptr}} \mbox{[}4\mbox{]}
\begin{DoxyCompactList}\small\item\em points to the headcode segment graphics e.\+g. 5,A,4,7. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a5b5409585a4af5224f1d91be6a405503}\label{class_t_train_a5b5409585a4af5224f1d91be6a405503}} 
int {\bfseries H\+Offset} \mbox{[}4\mbox{]}
\item 
int \mbox{\hyperlink{class_t_train_a4c8b153a620229a3d9cc54f64ffa5f4a}{V\+Offset}} \mbox{[}4\mbox{]}
\begin{DoxyCompactList}\small\item\em values set the horizontal \& vertical offsets of the top left hand corner character graphic relative to the 16x16 element \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_t_train_a29c7350be73eb11a6c018a4bc8f8099a}{Old\+Zoom\+Out\+Element}} \mbox{[}3\mbox{]}
\begin{DoxyCompactList}\small\item\em zoomed-\/out mode prior to replotting in a new position (new will be different from old if train moving) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_ac711fc0e209da47a98fd40def880f119}\label{class_t_train_ac711fc0e209da47a98fd40def880f119}} 
int \mbox{\hyperlink{class_t_train_ac711fc0e209da47a98fd40def880f119}{Plot\+Element}} \mbox{[}4\mbox{]}
\begin{DoxyCompactList}\small\item\em the Track\+Vector\+Position of the element where each of the 4 headcode characters is plotted \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_t_train_ac4ff3ae93a80d230d1ddcb992b0b546a}{Plot\+Entry\+Pos}} \mbox{[}4\mbox{]}
\item 
int \mbox{\hyperlink{class_t_train_ad7644b30da32d0d9e6541ba7629a4a35}{Train\+Crashed\+Into}}
\item 
\mbox{\Hypertarget{class_t_train_aba7fc74449b392035805ecc4f2bc1650}\label{class_t_train_aba7fc74449b392035805ecc4f2bc1650}} 
T\+Straddle \mbox{\hyperlink{class_t_train_aba7fc74449b392035805ecc4f2bc1650}{Straddle}}
\begin{DoxyCompactList}\small\item\em the current Straddle value of the train (see T\+Straddle above) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_abba9596f03b731ba4055f4d3591f5b0e}\label{class_t_train_abba9596f03b731ba4055f4d3591f5b0e}} 
int \mbox{\hyperlink{class_t_train_abba9596f03b731ba4055f4d3591f5b0e}{Lead\+Element}}
\begin{DoxyCompactList}\small\item\em Track\+Vector positions, \& entry \& exit connection positions for the elements that the train occupies. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_ae5acbf95c32fbf654e4f68417032edad}\label{class_t_train_ae5acbf95c32fbf654e4f68417032edad}} 
int {\bfseries Lead\+Entry\+Pos}
\item 
\mbox{\Hypertarget{class_t_train_af92045cb9d4cb0fa368d1541e4fb2780}\label{class_t_train_af92045cb9d4cb0fa368d1541e4fb2780}} 
int {\bfseries Lead\+Exit\+Pos}
\item 
\mbox{\Hypertarget{class_t_train_a6f92853cac4bf9f463effe07c2432270}\label{class_t_train_a6f92853cac4bf9f463effe07c2432270}} 
int {\bfseries Mid\+Element}
\item 
\mbox{\Hypertarget{class_t_train_a9594b786d0a6d35cfa82b1084f90c82f}\label{class_t_train_a9594b786d0a6d35cfa82b1084f90c82f}} 
int {\bfseries Mid\+Entry\+Pos}
\item 
\mbox{\Hypertarget{class_t_train_a6c0d3ad2ffe11093982406e5d449bbd1}\label{class_t_train_a6c0d3ad2ffe11093982406e5d449bbd1}} 
int {\bfseries Mid\+Exit\+Pos}
\item 
\mbox{\Hypertarget{class_t_train_ab2b55af1125e9cd1dcbad6d890a33edb}\label{class_t_train_ab2b55af1125e9cd1dcbad6d890a33edb}} 
int {\bfseries Lag\+Element}
\item 
\mbox{\Hypertarget{class_t_train_a8d164779b76b56ab0508197280cb0180}\label{class_t_train_a8d164779b76b56ab0508197280cb0180}} 
int {\bfseries Lag\+Entry\+Pos}
\item 
\mbox{\Hypertarget{class_t_train_a79b51b68b8e6c0f48330aaf3a99ee5c6}\label{class_t_train_a79b51b68b8e6c0f48330aaf3a99ee5c6}} 
int {\bfseries Lag\+Exit\+Pos}
\item 
int \mbox{\hyperlink{class_t_train_a95a26f26e890d53e38f1f8067977ef0e}{Train\+ID}}
\item 
Graphics\+::\+T\+Bitmap $\ast$ \mbox{\hyperlink{class_t_train_a9b4cfd30341ab156b539eb3a5a9fe7a3}{Head\+Code\+Position}} \mbox{[}4\mbox{]}
\item 
\mbox{\Hypertarget{class_t_train_acee68f1e0863f2dc008a69f9c4be0fe6}\label{class_t_train_acee68f1e0863f2dc008a69f9c4be0fe6}} 
T\+Color \mbox{\hyperlink{class_t_train_acee68f1e0863f2dc008a69f9c4be0fe6}{Background\+Colour}}
\begin{DoxyCompactList}\small\item\em the background colour of the train\textquotesingle{}s headcode graphics \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_t_train_a70e34e0666fd1c04b6c9866bfe45290f}\label{class_t_train_a70e34e0666fd1c04b6c9866bfe45290f}} 
static const int \mbox{\hyperlink{class_t_train_a70e34e0666fd1c04b6c9866bfe45290f}{Call\+On\+Max\+Speed}} = 30
\begin{DoxyCompactList}\small\item\em km/h \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a1ab673136ad153947d373b5fd48a50e9}\label{class_t_train_a1ab673136ad153947d373b5fd48a50e9}} 
static const int \mbox{\hyperlink{class_t_train_a1ab673136ad153947d373b5fd48a50e9}{Maximum\+Mass\+Limit}} = 10000000
\begin{DoxyCompactList}\small\item\em kg (i.\+e. 10,000 tonnes) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_a06452bf9f2c18e9d83d4b33cc24ada42}\label{class_t_train_a06452bf9f2c18e9d83d4b33cc24ada42}} 
static const int \mbox{\hyperlink{class_t_train_a06452bf9f2c18e9d83d4b33cc24ada42}{Maximum\+Power\+Limit}} = 100000000
\begin{DoxyCompactList}\small\item\em Watts (i.\+e. 100\+MW) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_train_afac2548a159e8c341c008810d15e2a88}\label{class_t_train_afac2548a159e8c341c008810d15e2a88}} 
static const int \mbox{\hyperlink{class_t_train_afac2548a159e8c341c008810d15e2a88}{Maximum\+Speed\+Limit}} = 400
\begin{DoxyCompactList}\small\item\em km/h \end{DoxyCompactList}\item 
static int \mbox{\hyperlink{class_t_train_a59a6ad055b319a73e954e9bef5f7593c}{Next\+Train\+ID}} = 0
\end{DoxyCompactItemize}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_t_train_a50997f7e8138a7e6a147fe3b5ad21b84}\label{class_t_train_a50997f7e8138a7e6a147fe3b5ad21b84}} 
\index{T\+Train@{T\+Train}!Check\+And\+Cancel\+Route\+For\+Wrong\+End\+Entry@{Check\+And\+Cancel\+Route\+For\+Wrong\+End\+Entry}}
\index{Check\+And\+Cancel\+Route\+For\+Wrong\+End\+Entry@{Check\+And\+Cancel\+Route\+For\+Wrong\+End\+Entry}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Check\+And\+Cancel\+Route\+For\+Wrong\+End\+Entry()}{CheckAndCancelRouteForWrongEndEntry()}}
{\footnotesize\ttfamily void T\+Train\+::\+Check\+And\+Cancel\+Route\+For\+Wrong\+End\+Entry (\begin{DoxyParamCaption}\item[{int}]{Caller,  }\item[{int}]{Element,  }\item[{int}]{Entry\+Pos }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

Checks whether Element and Entry\+Pos (where train is about to enter) is on an existing route (or crosses or meets an existing route for crossings and points) that isn\textquotesingle{}t the train\textquotesingle{}s own route and cancels it if so -\/ because it has reached it at the wrong point \mbox{\Hypertarget{class_t_train_aad716bab6f8f4aa6dd49f35130d28dd9}\label{class_t_train_aad716bab6f8f4aa6dd49f35130d28dd9}} 
\index{T\+Train@{T\+Train}!Check\+One\+Session\+Train@{Check\+One\+Session\+Train}}
\index{Check\+One\+Session\+Train@{Check\+One\+Session\+Train}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Check\+One\+Session\+Train()}{CheckOneSessionTrain()}}
{\footnotesize\ttfamily bool T\+Train\+::\+Check\+One\+Session\+Train (\begin{DoxyParamCaption}\item[{std\+::ifstream \&}]{In\+File }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}

Carries out an integrity check for the train section of a session file, if fails a message is given and the file is not loaded. It is static so that it can be called without needing an object. \mbox{\Hypertarget{class_t_train_aeed1f50d8a4f76d7d77991d276758570}\label{class_t_train_aeed1f50d8a4f76d7d77991d276758570}} 
\index{T\+Train@{T\+Train}!Clear\+To\+Next\+Signal@{Clear\+To\+Next\+Signal}}
\index{Clear\+To\+Next\+Signal@{Clear\+To\+Next\+Signal}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Clear\+To\+Next\+Signal()}{ClearToNextSignal()}}
{\footnotesize\ttfamily bool T\+Train\+::\+Clear\+To\+Next\+Signal (\begin{DoxyParamCaption}\item[{int}]{Caller }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

Checks forward from train Lead\+Element, following leading point attributes but ignoring trailing point attributes, until finds either a train or a signal/buffers/continuation/loop. If finds a train returns false, else returns true. Used when train stopped for a train in front, to ensure it remains stopped until this function returns true. \mbox{\Hypertarget{class_t_train_afd5d7ea375b8a878c31d81841acad159}\label{class_t_train_afd5d7ea375b8a878c31d81841acad159}} 
\index{T\+Train@{T\+Train}!Delete\+Train@{Delete\+Train}}
\index{Delete\+Train@{Delete\+Train}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Delete\+Train()}{DeleteTrain()}}
{\footnotesize\ttfamily void T\+Train\+::\+Delete\+Train (\begin{DoxyParamCaption}\item[{int}]{Caller }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

This is a housekeeping function to delete train heap objects (bitmaps) explicitly rather than by using a destructor, because vectors erase elements during internal operations \& if \mbox{\hyperlink{class_t_train}{T\+Train}} had an explicit destructor that deleted the heap elements then it would be called when a vector element was erased.

Calling the default \mbox{\hyperlink{class_t_train}{T\+Train}} destructor doesn\textquotesingle{}t matter because all that does is release the memory of the members (including pointers to the bitmaps), it doesn\textquotesingle{}t destroy the bitmaps themselves. It\textquotesingle{}s important therefore to call this function before erasing the vector element, otherwise the pointers to the bitmaps would be lost and the bitmaps never destroyed, thereby causing memory leaks. \mbox{\Hypertarget{class_t_train_a0675ea1dede706d5b0dd52264496865a}\label{class_t_train_a0675ea1dede706d5b0dd52264496865a}} 
\index{T\+Train@{T\+Train}!Get\+Lead\+Element@{Get\+Lead\+Element}}
\index{Get\+Lead\+Element@{Get\+Lead\+Element}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Get\+Lead\+Element()}{GetLeadElement()}}
{\footnotesize\ttfamily void T\+Train\+::\+Get\+Lead\+Element (\begin{DoxyParamCaption}\item[{int}]{Caller }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

Called when a train is about to leave an element and move onto another, this function obtains the new element that will become the train\textquotesingle{}s Lead\+Element, the earlier Lead\+Element having been assigned to Mid\+Element and earlier Mid\+Element assigned to Lag\+Element. It assumes Mid \& Lag already set, sets Lead\+Element, Lead\+Entry\+Pos, Lead\+Exit\+Pos \& Derail\+Pending (i.\+e. about to foul points but train only becomes derailed when it moves fully onto the element) \mbox{\Hypertarget{class_t_train_ad249f34f6862e604b8e141d1b25fe57d}\label{class_t_train_ad249f34f6862e604b8e141d1b25fe57d}} 
\index{T\+Train@{T\+Train}!Get\+Train\+Time@{Get\+Train\+Time}}
\index{Get\+Train\+Time@{Get\+Train\+Time}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Get\+Train\+Time()}{GetTrainTime()}}
{\footnotesize\ttfamily T\+Date\+Time T\+Train\+::\+Get\+Train\+Time (\begin{DoxyParamCaption}\item[{int}]{Caller,  }\item[{T\+Date\+Time}]{Time }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

Returns the timetable action time corresponding to \textquotesingle{}Time\textquotesingle{} for this train, i.\+e. it adjusts the time value according to the train\textquotesingle{}s Repeat\+Number and the incremental minutes between repeats \mbox{\Hypertarget{class_t_train_aef32cd9a007874ab09ceeac907e7c88b}\label{class_t_train_aef32cd9a007874ab09ceeac907e7c88b}} 
\index{T\+Train@{T\+Train}!Link\+Occupied@{Link\+Occupied}}
\index{Link\+Occupied@{Link\+Occupied}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Link\+Occupied()}{LinkOccupied()}}
{\footnotesize\ttfamily bool T\+Train\+::\+Link\+Occupied (\begin{DoxyParamCaption}\item[{int}]{Caller,  }\item[{int}]{Track\+Vector\+Position,  }\item[{int}]{Link\+Number }\end{DoxyParamCaption})}

Added at v1.\+2.\+0\+: true if any part of train on specific link, false otherwise, including no link present \& no Track\+Vector\+Number within Lead, Mid or Lag (public so Track-\/$>$Train\+On\+Link can access it) \mbox{\Hypertarget{class_t_train_a493ab1c185d29bf28ec8fded2356e9fc}\label{class_t_train_a493ab1c185d29bf28ec8fded2356e9fc}} 
\index{T\+Train@{T\+Train}!Log\+Action@{Log\+Action}}
\index{Log\+Action@{Log\+Action}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Log\+Action()}{LogAction()}}
{\footnotesize\ttfamily void T\+Train\+::\+Log\+Action (\begin{DoxyParamCaption}\item[{int}]{Caller,  }\item[{Ansi\+String}]{Head\+Code,  }\item[{Ansi\+String}]{Other\+Head\+Code,  }\item[{T\+Action\+Type}]{Action\+Type,  }\item[{Ansi\+String}]{Location\+Name,  }\item[{T\+Date\+Time}]{Timetable\+Non\+Repeat\+Time,  }\item[{bool}]{Warning }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

Send a message to the performance log and performance file, and if the message is flagged as a warning then it is also sent as a warning (in red at the top of the railway display area) \mbox{\Hypertarget{class_t_train_ac2f3802b0d193d220ec6d19e2a6fc7ed}\label{class_t_train_ac2f3802b0d193d220ec6d19e2a6fc7ed}} 
\index{T\+Train@{T\+Train}!Low\+Entry\+Value@{Low\+Entry\+Value}}
\index{Low\+Entry\+Value@{Low\+Entry\+Value}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Low\+Entry\+Value()}{LowEntryValue()}}
{\footnotesize\ttfamily bool T\+Train\+::\+Low\+Entry\+Value (\begin{DoxyParamCaption}\item[{int}]{Entry\+Link }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}

Returns true if Entry\+Link is 1, 2, 4 or 7, in these circumstances the front of the train (i.\+e. the character that is red or blue) is the last character of the headcode, otherwise it\textquotesingle{}s the first character of the headcode \mbox{\Hypertarget{class_t_train_a7a54125a3a5052cb25e17014075a686b}\label{class_t_train_a7a54125a3a5052cb25e17014075a686b}} 
\index{T\+Train@{T\+Train}!Name\+In\+Timetable\+Before\+C\+DT@{Name\+In\+Timetable\+Before\+C\+DT}}
\index{Name\+In\+Timetable\+Before\+C\+DT@{Name\+In\+Timetable\+Before\+C\+DT}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Name\+In\+Timetable\+Before\+C\+D\+T()}{NameInTimetableBeforeCDT()}}
{\footnotesize\ttfamily int T\+Train\+::\+Name\+In\+Timetable\+Before\+C\+DT (\begin{DoxyParamCaption}\item[{int}]{Caller,  }\item[{Ansi\+String}]{Name,  }\item[{bool \&}]{Stop }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

Returns the number by which the train Action\+Vector\+Entry\+Ptr needs to be incremented to point to the location arrival entry or passtime entry before a change of direction.

Used to display missed actions when a stop or pass location has been reached before other timetabled actions have been carried out. If can\textquotesingle{}t find it, or Name is \char`\"{}\char`\"{}, -\/1 is returned. A change of direction is the limit of the search because a train may not stop at a location on the way out but stop on way back, and in these circumstances no actions have been missed. Stop indicates whether the train will stop at (true) or pass (false) the location. \mbox{\Hypertarget{class_t_train_af92ae73f1be23475e7ae424306cd4866}\label{class_t_train_af92ae73f1be23475e7ae424306cd4866}} 
\index{T\+Train@{T\+Train}!Pick\+Up\+Background\+Bitmap@{Pick\+Up\+Background\+Bitmap}}
\index{Pick\+Up\+Background\+Bitmap@{Pick\+Up\+Background\+Bitmap}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Pick\+Up\+Background\+Bitmap()}{PickUpBackgroundBitmap()}}
{\footnotesize\ttfamily void T\+Train\+::\+Pick\+Up\+Background\+Bitmap (\begin{DoxyParamCaption}\item[{int}]{Caller,  }\item[{int}]{H\+Offset,  }\item[{int}]{V\+Offset,  }\item[{int}]{Element,  }\item[{int}]{Entry\+Pos,  }\item[{Graphics\+::\+T\+Bitmap $\ast$}]{Graphic\+Ptr }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}

Store the background bitmap pointer (Background\+Ptr -\/ see above) prior to being overwritten by the train\textquotesingle{}s headcode charcter, so that it can be replotted after the train has passed using Plot\+Background\+Graphic. \mbox{\Hypertarget{class_t_train_aa21e18b3085773ca8351c446911611c1}\label{class_t_train_aa21e18b3085773ca8351c446911611c1}} 
\index{T\+Train@{T\+Train}!Plot\+Alternative\+Track\+Route\+Graphic@{Plot\+Alternative\+Track\+Route\+Graphic}}
\index{Plot\+Alternative\+Track\+Route\+Graphic@{Plot\+Alternative\+Track\+Route\+Graphic}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Plot\+Alternative\+Track\+Route\+Graphic()}{PlotAlternativeTrackRouteGraphic()}}
{\footnotesize\ttfamily void T\+Train\+::\+Plot\+Alternative\+Track\+Route\+Graphic (\begin{DoxyParamCaption}\item[{int}]{Caller,  }\item[{unsigned int}]{Lag\+Element,  }\item[{int}]{Lag\+E\+Link\+Pos,  }\item[{int}]{H\+Offset,  }\item[{int}]{V\+Offset,  }\item[{T\+Straddle}]{Straddle\+Value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

When a train moves off a bridge the other track may contain a route or have a train on it that has been obscured by this train. This function checks and replots the original graphic if necessary \mbox{\Hypertarget{class_t_train_a8262f447ec811db7e524c7bb885226c5}\label{class_t_train_a8262f447ec811db7e524c7bb885226c5}} 
\index{T\+Train@{T\+Train}!Repeat\+Shuttle\+Or\+New\+Non\+Repeat\+Service@{Repeat\+Shuttle\+Or\+New\+Non\+Repeat\+Service}}
\index{Repeat\+Shuttle\+Or\+New\+Non\+Repeat\+Service@{Repeat\+Shuttle\+Or\+New\+Non\+Repeat\+Service}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Repeat\+Shuttle\+Or\+New\+Non\+Repeat\+Service()}{RepeatShuttleOrNewNonRepeatService()}}
{\footnotesize\ttfamily void T\+Train\+::\+Repeat\+Shuttle\+Or\+New\+Non\+Repeat\+Service (\begin{DoxyParamCaption}\item[{int}]{Caller }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

Carry out the actions needed to create either a new shuttle service or (if all repeats have finished) a non-\/repeating shuttle finishing service (code is Fns-\/sh) \mbox{\Hypertarget{class_t_train_ac6f5cda912103fda4da31bdca611e4b5}\label{class_t_train_ac6f5cda912103fda4da31bdca611e4b5}} 
\index{T\+Train@{T\+Train}!Repeat\+Shuttle\+Or\+Remain\+Here@{Repeat\+Shuttle\+Or\+Remain\+Here}}
\index{Repeat\+Shuttle\+Or\+Remain\+Here@{Repeat\+Shuttle\+Or\+Remain\+Here}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Repeat\+Shuttle\+Or\+Remain\+Here()}{RepeatShuttleOrRemainHere()}}
{\footnotesize\ttfamily void T\+Train\+::\+Repeat\+Shuttle\+Or\+Remain\+Here (\begin{DoxyParamCaption}\item[{int}]{Caller }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

Carry out the actions needed to create either a new shuttle service or (if all repeats have finished) to keep train at its current location (code is Frh-\/sh) \mbox{\Hypertarget{class_t_train_ace302d98b5685104d294869b161e20a0}\label{class_t_train_ace302d98b5685104d294869b161e20a0}} 
\index{T\+Train@{T\+Train}!Reset\+Train\+Element\+ID@{Reset\+Train\+Element\+ID}}
\index{Reset\+Train\+Element\+ID@{Reset\+Train\+Element\+ID}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Reset\+Train\+Element\+I\+D()}{ResetTrainElementID()}}
{\footnotesize\ttfamily void T\+Train\+::\+Reset\+Train\+Element\+ID (\begin{DoxyParamCaption}\item[{int}]{Caller,  }\item[{unsigned int}]{Track\+Vector\+Position,  }\item[{int}]{Entry\+Pos }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

After a train has moved off an element that element has its Train\+I\+D\+On\+Element value set back to -\/1 to indicate that a train is not present on it, but, if the element is a bridge then the action is more complex because the element\textquotesingle{}s Train\+I\+D\+On\+Bridge\+Track\+Pos01 \&/or Train\+I\+D\+On\+Bridge\+Track\+Pos23 values are involved \mbox{\Hypertarget{class_t_train_a594228489e522dfde0ffbe124cd27103}\label{class_t_train_a594228489e522dfde0ffbe124cd27103}} 
\index{T\+Train@{T\+Train}!Set\+Head\+Code\+Graphics@{Set\+Head\+Code\+Graphics}}
\index{Set\+Head\+Code\+Graphics@{Set\+Head\+Code\+Graphics}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Set\+Head\+Code\+Graphics()}{SetHeadCodeGraphics()}}
{\footnotesize\ttfamily void T\+Train\+::\+Set\+Head\+Code\+Graphics (\begin{DoxyParamCaption}\item[{int}]{Caller,  }\item[{Ansi\+String}]{Code }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

Set the four Head\+Code\+Gr\+Ptr\mbox{[}4\mbox{]} pointers to the appropriate character graphics by calling Set\+One\+Graphic\+Code four times, also check the background colour and reset it to the default colour if necessary \mbox{\Hypertarget{class_t_train_a0e0ab54415645b04cbdeadd829d27898}\label{class_t_train_a0e0ab54415645b04cbdeadd829d27898}} 
\index{T\+Train@{T\+Train}!Set\+Train\+Element\+ID@{Set\+Train\+Element\+ID}}
\index{Set\+Train\+Element\+ID@{Set\+Train\+Element\+ID}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Set\+Train\+Element\+I\+D()}{SetTrainElementID()}}
{\footnotesize\ttfamily void T\+Train\+::\+Set\+Train\+Element\+ID (\begin{DoxyParamCaption}\item[{int}]{Caller,  }\item[{unsigned int}]{Track\+Vector\+Position,  }\item[{int}]{Entry\+Pos }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

When a train moves onto an element that element has its Train\+I\+D\+On\+Element value set to the Train\+ID value to indicate that a train is present on it. If the element is a bridge then the element\textquotesingle{}s Train\+I\+D\+On\+Bridge\+Track\+Pos01 or Train\+I\+D\+On\+Bridge\+Track\+Pos23 value is also set as appropriate \mbox{\Hypertarget{class_t_train_a86107a63225b0500b29e049f13545fff}\label{class_t_train_a86107a63225b0500b29e049f13545fff}} 
\index{T\+Train@{T\+Train}!Write\+Train\+To\+Image@{Write\+Train\+To\+Image}}
\index{Write\+Train\+To\+Image@{Write\+Train\+To\+Image}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Write\+Train\+To\+Image()}{WriteTrainToImage()}}
{\footnotesize\ttfamily void T\+Train\+::\+Write\+Train\+To\+Image (\begin{DoxyParamCaption}\item[{int}]{Caller,  }\item[{Graphics\+::\+T\+Bitmap $\ast$}]{Bitmap }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

Called by \mbox{\hyperlink{class_t_train_controller_aa5e441a9ec80e5076b2c05c2bb6f3fd3}{T\+Train\+Controller\+::\+Write\+Trains\+To\+Image}} (called by T\+Interface\+::\+Save\+Operating\+Image1\+Click) to add all a single train graphic to the image file 

\subsection{Member Data Documentation}
\mbox{\Hypertarget{class_t_train_a8c94580b79a8ad1ad0fce51f0abba822}\label{class_t_train_a8c94580b79a8ad1ad0fce51f0abba822}} 
\index{T\+Train@{T\+Train}!Allowed\+To\+Pass\+Red\+Signal@{Allowed\+To\+Pass\+Red\+Signal}}
\index{Allowed\+To\+Pass\+Red\+Signal@{Allowed\+To\+Pass\+Red\+Signal}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Allowed\+To\+Pass\+Red\+Signal}{AllowedToPassRedSignal}}
{\footnotesize\ttfamily bool T\+Train\+::\+Allowed\+To\+Pass\+Red\+Signal\hspace{0.3cm}{\ttfamily [private]}}

set when train has been called on, or when under signaller control and instructed to pass a red signal or to step forwards one element \mbox{\Hypertarget{class_t_train_a60a3a9bebf64411f5d200682575a69ee}\label{class_t_train_a60a3a9bebf64411f5d200682575a69ee}} 
\index{T\+Train@{T\+Train}!Buffer\+Zoom\+Out\+Flash\+Required@{Buffer\+Zoom\+Out\+Flash\+Required}}
\index{Buffer\+Zoom\+Out\+Flash\+Required@{Buffer\+Zoom\+Out\+Flash\+Required}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Buffer\+Zoom\+Out\+Flash\+Required}{BufferZoomOutFlashRequired}}
{\footnotesize\ttfamily bool T\+Train\+::\+Buffer\+Zoom\+Out\+Flash\+Required\hspace{0.3cm}{\ttfamily [private]}}

set when train is at buffers and is to flash in zoomout mode (i.\+e. when reaches buffers unexpectedly -\/ more actions still being due in the timetable) \mbox{\Hypertarget{class_t_train_ab4f3876cb58a6160c2f1cd7a7eb3f234}\label{class_t_train_ab4f3876cb58a6160c2f1cd7a7eb3f234}} 
\index{T\+Train@{T\+Train}!Departure\+Time\+Set@{Departure\+Time\+Set}}
\index{Departure\+Time\+Set@{Departure\+Time\+Set}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Departure\+Time\+Set}{DepartureTimeSet}}
{\footnotesize\ttfamily bool T\+Train\+::\+Departure\+Time\+Set\hspace{0.3cm}{\ttfamily [private]}}

set when stopped at a location and the next action is departure (set in Update\+Train when Release\+Time and T\+R\+S\+Time have been established) \mbox{\Hypertarget{class_t_train_a638de0cfb04b13fb28edd5e61d2d628f}\label{class_t_train_a638de0cfb04b13fb28edd5e61d2d628f}} 
\index{T\+Train@{T\+Train}!First\+Half\+Move@{First\+Half\+Move}}
\index{First\+Half\+Move@{First\+Half\+Move}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{First\+Half\+Move}{FirstHalfMove}}
{\footnotesize\ttfamily bool T\+Train\+::\+First\+Half\+Move\hspace{0.3cm}{\ttfamily [private]}}

true when the train is on the first half of an element when it displays as fully on two elements. It only displays with the front character of the headcode on the first half of an element when the halfway point of the element has been passed. \mbox{\Hypertarget{class_t_train_a9b4cfd30341ab156b539eb3a5a9fe7a3}\label{class_t_train_a9b4cfd30341ab156b539eb3a5a9fe7a3}} 
\index{T\+Train@{T\+Train}!Head\+Code\+Position@{Head\+Code\+Position}}
\index{Head\+Code\+Position@{Head\+Code\+Position}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Head\+Code\+Position}{HeadCodePosition}}
{\footnotesize\ttfamily Graphics\+::\+T\+Bitmap$\ast$ T\+Train\+::\+Head\+Code\+Position\mbox{[}4\mbox{]}\hspace{0.3cm}{\ttfamily [private]}}

Set from the Head\+Code\+Gr\+Ptr\mbox{[}4\mbox{]} pointer values, Head\+Code\+Position\mbox{[}0\mbox{]} is always the front, which may be the first or the last headcode character depending on the direction of motion and the entry link value of the element being entered (see also Low\+Entry\+Value(int Entry\+Link) above) \mbox{\Hypertarget{class_t_train_a843a31af1c4faec4d71a61d32d6f4510}\label{class_t_train_a843a31af1c4faec4d71a61d32d6f4510}} 
\index{T\+Train@{T\+Train}!Joined\+Other\+Train\+Flag@{Joined\+Other\+Train\+Flag}}
\index{Joined\+Other\+Train\+Flag@{Joined\+Other\+Train\+Flag}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Joined\+Other\+Train\+Flag}{JoinedOtherTrainFlag}}
{\footnotesize\ttfamily bool T\+Train\+::\+Joined\+Other\+Train\+Flag\hspace{0.3cm}{\ttfamily [private]}}

true when the train has joined another train following an \textquotesingle{}Fjo\textquotesingle{} timetable command (when set the train is removed from the display at the next clock tick) \mbox{\Hypertarget{class_t_train_a1b53d5506e8a5bdfd55286ae2dc2d3f2}\label{class_t_train_a1b53d5506e8a5bdfd55286ae2dc2d3f2}} 
\index{T\+Train@{T\+Train}!Last\+Action\+Delay\+Flag@{Last\+Action\+Delay\+Flag}}
\index{Last\+Action\+Delay\+Flag@{Last\+Action\+Delay\+Flag}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Last\+Action\+Delay\+Flag}{LastActionDelayFlag}}
{\footnotesize\ttfamily bool T\+Train\+::\+Last\+Action\+Delay\+Flag\hspace{0.3cm}{\ttfamily [private]}}

used when trains join to ensure that there is a 30 second delay before the actual join takes place after the two trains are adjacent to each other \mbox{\Hypertarget{class_t_train_ac1ce3c1b548c1e4199d211b5fcd9763e}\label{class_t_train_ac1ce3c1b548c1e4199d211b5fcd9763e}} 
\index{T\+Train@{T\+Train}!Leaving\+Under\+Sig\+Control\+At\+Continuation@{Leaving\+Under\+Sig\+Control\+At\+Continuation}}
\index{Leaving\+Under\+Sig\+Control\+At\+Continuation@{Leaving\+Under\+Sig\+Control\+At\+Continuation}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Leaving\+Under\+Sig\+Control\+At\+Continuation}{LeavingUnderSigControlAtContinuation}}
{\footnotesize\ttfamily bool T\+Train\+::\+Leaving\+Under\+Sig\+Control\+At\+Continuation\hspace{0.3cm}{\ttfamily [private]}}

set when the train has reached an exit continuation when under signaller control, used to prevent the popup menu being given on right clicking (can cause ambiguities in positioning if try to give signaller commands when at or close to a continuation \mbox{\Hypertarget{class_t_train_a59a6ad055b319a73e954e9bef5f7593c}\label{class_t_train_a59a6ad055b319a73e954e9bef5f7593c}} 
\index{T\+Train@{T\+Train}!Next\+Train\+ID@{Next\+Train\+ID}}
\index{Next\+Train\+ID@{Next\+Train\+ID}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Next\+Train\+ID}{NextTrainID}}
{\footnotesize\ttfamily int T\+Train\+::\+Next\+Train\+ID = 0\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}

the ID value to be used for the next train that is created, static so that it doesn\textquotesingle{}t need an object to call it and its value is independent of the objects \mbox{\Hypertarget{class_t_train_a29c7350be73eb11a6c018a4bc8f8099a}\label{class_t_train_a29c7350be73eb11a6c018a4bc8f8099a}} 
\index{T\+Train@{T\+Train}!Old\+Zoom\+Out\+Element@{Old\+Zoom\+Out\+Element}}
\index{Old\+Zoom\+Out\+Element@{Old\+Zoom\+Out\+Element}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Old\+Zoom\+Out\+Element}{OldZoomOutElement}}
{\footnotesize\ttfamily int T\+Train\+::\+Old\+Zoom\+Out\+Element\mbox{[}3\mbox{]}\hspace{0.3cm}{\ttfamily [private]}}



zoomed-\/out mode prior to replotting in a new position (new will be different from old if train moving) 

stores the Lead, Mid \& Lag Track\+Vector\+Positions, used for unplotting trains from the old position in \mbox{\Hypertarget{class_t_train_a36dc9bd48fb78d4257fe117908829dd7}\label{class_t_train_a36dc9bd48fb78d4257fe117908829dd7}} 
\index{T\+Train@{T\+Train}!One\+Length\+Accel\+Decel@{One\+Length\+Accel\+Decel}}
\index{One\+Length\+Accel\+Decel@{One\+Length\+Accel\+Decel}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{One\+Length\+Accel\+Decel}{OneLengthAccelDecel}}
{\footnotesize\ttfamily bool T\+Train\+::\+One\+Length\+Accel\+Decel\hspace{0.3cm}{\ttfamily [private]}}

set when a train can only move forwards one element before stopping but needs to accelerate for the first half of the element \mbox{\Hypertarget{class_t_train_ac4ff3ae93a80d230d1ddcb992b0b546a}\label{class_t_train_ac4ff3ae93a80d230d1ddcb992b0b546a}} 
\index{T\+Train@{T\+Train}!Plot\+Entry\+Pos@{Plot\+Entry\+Pos}}
\index{Plot\+Entry\+Pos@{Plot\+Entry\+Pos}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Plot\+Entry\+Pos}{PlotEntryPos}}
{\footnotesize\ttfamily int T\+Train\+::\+Plot\+Entry\+Pos\mbox{[}4\mbox{]}\hspace{0.3cm}{\ttfamily [private]}}

the Link\+Pos value corresponding to the train entry link of the element where each of the 4 headcode characters is plotted \mbox{\Hypertarget{class_t_train_a2fe228470644e5b9bcc95b3e75f9bf36}\label{class_t_train_a2fe228470644e5b9bcc95b3e75f9bf36}} 
\index{T\+Train@{T\+Train}!Restore\+Timetable\+Location@{Restore\+Timetable\+Location}}
\index{Restore\+Timetable\+Location@{Restore\+Timetable\+Location}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Restore\+Timetable\+Location}{RestoreTimetableLocation}}
{\footnotesize\ttfamily Ansi\+String T\+Train\+::\+Restore\+Timetable\+Location\hspace{0.3cm}{\ttfamily [private]}}

stores the location name at which signaller control is taken, to ensure that it is back at that location before timetable control can be restored \mbox{\Hypertarget{class_t_train_a05383ce005a22df0cb70df7f31a917cf}\label{class_t_train_a05383ce005a22df0cb70df7f31a917cf}} 
\index{T\+Train@{T\+Train}!S\+P\+A\+D\+Flag@{S\+P\+A\+D\+Flag}}
\index{S\+P\+A\+D\+Flag@{S\+P\+A\+D\+Flag}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{S\+P\+A\+D\+Flag}{SPADFlag}}
{\footnotesize\ttfamily bool T\+Train\+::\+S\+P\+A\+D\+Flag\hspace{0.3cm}{\ttfamily [private]}}



flags to indicate relevant stop conditions or pending stop conditions 

set when running past a red signal without permission \mbox{\Hypertarget{class_t_train_ad7644b30da32d0d9e6541ba7629a4a35}\label{class_t_train_ad7644b30da32d0d9e6541ba7629a4a35}} 
\index{T\+Train@{T\+Train}!Train\+Crashed\+Into@{Train\+Crashed\+Into}}
\index{Train\+Crashed\+Into@{Train\+Crashed\+Into}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Train\+Crashed\+Into}{TrainCrashedInto}}
{\footnotesize\ttfamily int T\+Train\+::\+Train\+Crashed\+Into\hspace{0.3cm}{\ttfamily [private]}}

the Train\+ID of the train that this train has crashed into, recorded so that train can be marked and displayed as crashed also \mbox{\Hypertarget{class_t_train_a95a26f26e890d53e38f1f8067977ef0e}\label{class_t_train_a95a26f26e890d53e38f1f8067977ef0e}} 
\index{T\+Train@{T\+Train}!Train\+ID@{Train\+ID}}
\index{Train\+ID@{Train\+ID}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Train\+ID}{TrainID}}
{\footnotesize\ttfamily int T\+Train\+::\+Train\+ID\hspace{0.3cm}{\ttfamily [private]}}

the train\textquotesingle{}s identification number \mbox{\Hypertarget{class_t_train_ae57749c241ad7256c6f628faf1168ce7}\label{class_t_train_ae57749c241ad7256c6f628faf1168ce7}} 
\index{T\+Train@{T\+Train}!Update\+Counter@{Update\+Counter}}
\index{Update\+Counter@{Update\+Counter}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{Update\+Counter}{UpdateCounter}}
{\footnotesize\ttfamily int T\+Train\+::\+Update\+Counter\hspace{0.3cm}{\ttfamily [private]}}



after a failure message has already been given (doesn\textquotesingle{}t need to stay failed as signaller can manoeuvre it to a better location) 

used in train splitting operations to prevent too frequent checks for a location being long enough for a split \mbox{\Hypertarget{class_t_train_a4c8b153a620229a3d9cc54f64ffa5f4a}\label{class_t_train_a4c8b153a620229a3d9cc54f64ffa5f4a}} 
\index{T\+Train@{T\+Train}!V\+Offset@{V\+Offset}}
\index{V\+Offset@{V\+Offset}!T\+Train@{T\+Train}}
\subsubsection{\texorpdfstring{V\+Offset}{VOffset}}
{\footnotesize\ttfamily int T\+Train\+::\+V\+Offset\mbox{[}4\mbox{]}\hspace{0.3cm}{\ttfamily [private]}}



values set the horizontal \& vertical offsets of the top left hand corner character graphic relative to the 16x16 element 

each headcode character is an 8x8 pixel graphic and must be placed within a 16x16 pixel element, these 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Train\+Unit.\+h\item 
Train\+Unit.\+cpp\end{DoxyCompactItemize}
